- suite: Go Automation/NodeScaling
  projects: [RRT, RM]
  cases:
  - description: Replaces the first etcd node in the cluster if replaceable
    title: Auto_replace_RKE2_ETCD
    priority: 4
    type: 8
    is_flaky: 0
    automation: 2
    steps:
    - action: Replace the first etcd node in the cluster
      expectedresult: ""
      data: ""
      position: 1
      attachments: []
    - action: Verify cluster state
      expectedresult: ""
      data: ""
      position: 2
      attachments: []
    custom_field:
      "14": Validation
      "18": Hostbusters

  - description: Replaces the first control plane node in the cluster if replaceable
    title: Auto_replace_RKE2_controlplane
    priority: 4
    type: 8
    is_flaky: 0
    automation: 2
    steps:
    - action: Replace the first control plane node in the cluster
      expectedresult: ""
      data: ""
      position: 1
      attachments: []
    - action: Verify cluster state
      expectedresult: ""
      data: ""
      position: 2
      attachments: []
    custom_field:
      "14": Validation
      "18": Hostbusters

  - description: Replaces the first worker node in the cluster if replaceable
    title: Auto_replace_RKE2_worker
    priority: 4
    type: 8
    is_flaky: 0
    automation: 2
    steps:
    - action: Replace the first worker node in the cluster
      expectedresult: ""
      data: ""
      position: 1
      attachments: []
    - action: Verify cluster state
      expectedresult: ""
      data: ""
      position: 2
      attachments: []
    custom_field:
      "14": Validation
      "18": Hostbusters

  - description: Replaces the first etcd node in the cluster if replaceable
    title: Auto_replace_K3S_ETCD
    priority: 4
    type: 8
    is_flaky: 0
    automation: 2
    steps:
    - action: Replace the first etcd node in the cluster
      expectedresult: ""
      data: ""
      position: 1
      attachments: []
    - action: Verify cluster state
      expectedresult: ""
      data: ""
      position: 2
      attachments: []
    custom_field:
      "14": Validation
      "18": Hostbusters

  - description: Replaces the first control plane node in the cluster if replaceable
    title: Auto_replace_K3S_controlplane
    priority: 4
    type: 8
    is_flaky: 0
    automation: 2
    steps:
    - action: Replace the first control plane node in the cluster
      expectedresult: ""
      data: ""
      position: 1
      attachments: []
    - action: Verify cluster state
      expectedresult: ""
      data: ""
      position: 2
      attachments: []
    custom_field:
      "14": Validation
      "18": Hostbusters

  - description: Replaces the first worker node in the cluster if replaceable
    title: Auto_replace_K3S_worker
    priority: 4
    type: 8
    is_flaky: 0
    automation: 2
    steps:
    - action: Replace the first worker node in the cluster
      expectedresult: ""
      data: ""
      position: 1
      attachments: []
    - action: Verify cluster state
      expectedresult: ""
      data: ""
      position: 2
      attachments: []
    custom_field:
      "14": Validation
      "18": Hostbusters

  - description: Scales up/down the control plane node pools of an existing cluster
    title: RKE2_Node_Driver_Scale_Control_Plane
    priority: 4
    type: 8
    is_flaky: 0
    automation: 2
    steps:
    - action: Scale up the control plane node pools by 1
      expectedresult: ""
      data: ""
      position: 1
      attachments: []
    - action: Verify cluster state
      expectedresult: ""
      data: ""
      position: 2
      attachments: []
    - action: Scale down up the control plane node pools by 1
      expectedresult: ""
      data: ""
      position: 3
      attachments: []
    - action: Verify cluster state
      expectedresult: ""
      data: ""
      position: 4
      attachments: []
    custom_field:
      "14": Validation
      "18": Hostbusters

  - description: Scales up/down the etcd node pools of an existing cluster
    title: RKE2_Node_Driver_Scale_ETCD
    priority: 4
    type: 8
    is_flaky: 0
    automation: 2
    steps:
    - action: Scale up the etcd node pools by 1
      expectedresult: ""
      data: ""
      position: 1
      attachments: []
    - action: Verify cluster state
      expectedresult: ""
      data: ""
      position: 2
      attachments: []
    - action: Scale down the etcd node pools by 1
      expectedresult: ""
      data: ""
      position: 3
      attachments: []
    - action: Verify cluster state
      expectedresult: ""
      data: ""
      position: 4
      attachments: []
    custom_field:
      "14": Validation
      "18": Hostbusters

  - description: Scales up/down the worker node pools of an existing cluster
    title: RKE2_Node_Driver_Scale_Worker
    priority: 4
    type: 8
    is_flaky: 0
    automation: 2
    steps:
    - action: Scale up the worker node pools by 1
      expectedresult: ""
      data: ""
      position: 1
      attachments: []
    - action: Verify cluster state
      expectedresult: ""
      data: ""
      position: 2
      attachments: []
    - action: Scale down the worker node pools by 1
      expectedresult: ""
      data: ""
      position: 1
      attachments: []
    - action: Verify cluster state
      expectedresult: ""
      data: ""
      position: 2
      attachments: []
    custom_field:
      "14": Validation
      "18": Hostbusters

  - description: Scales up/down the windows node pools of an existing cluster
    title: RKE2_Node_Driver_Scale_Windows
    priority: 4
    type: 8
    is_flaky: 0
    automation: 2
    steps:
    - action: Scale up the windows node pools by 1
      expectedresult: ""
      data: ""
      position: 1
      attachments: []
    - action: Verify cluster state
      expectedresult: ""
      data: ""
      position: 2
      attachments: []
    - action: Scale down the windows node pools by 1
      expectedresult: ""
      data: ""
      position: 3
      attachments: []
    - action: Verify cluster state
      expectedresult: ""
      data: ""
      position: 4
      attachments: []
    custom_field:
      "14": Validation
      "18": Hostbusters

  - description: Scales up/down the control plane node pools of an existing cluster
    title: K3S_Node_Driver_Scale_Control_Plane
    priority: 4
    type: 8
    is_flaky: 0
    automation: 2
    steps:
    - action: Scale up the control plane node pools by 1
      expectedresult: ""
      data: ""
      position: 1
      attachments: []
    - action: Verify cluster state
      expectedresult: ""
      data: ""
      position: 2
      attachments: []
    - action: Scale down the control plane node pools by 1
      expectedresult: ""
      data: ""
      position: 3
      attachments: []
    - action: Verify cluster state
      expectedresult: ""
      data: ""
      position: 4
      attachments: []
    custom_field:
      "14": Validation
      "18": Hostbusters

  - description: Scales up/down the etcd node pools of an existing cluster
    title: K3S_Node_Driver_Scale_ETCD
    priority: 4
    type: 8
    is_flaky: 0
    automation: 2
    steps:
    - action: Scale up the etcd node pools by 1
      expectedresult: ""
      data: ""
      position: 1
      attachments: []
    - action: Verify cluster state
      expectedresult: ""
      data: ""
      position: 2
      attachments: []
    - action: Scale down the etcd node pools by 1
      expectedresult: ""
      data: ""
      position: 3
      attachments: []
    - action: Verify cluster state
      expectedresult: ""
      data: ""
      position: 4
      attachments: []
    custom_field:
      "14": Validation
      "18": Hostbusters

  - description: Scales up/down the worker node pools of an existing cluster
    title: K3S_Node_Driver_Scale_Worker
    priority: 4
    type: 8
    is_flaky: 0
    automation: 2
    steps:
    - action: Scale up the worker node pools by 1
      expectedresult: ""
      data: ""
      position: 1
      attachments: []
    - action: Verify cluster state
      expectedresult: ""
      data: ""
      position: 2
      attachments: []
    - action: Scale down the worker node pools by 1
      expectedresult: ""
      data: ""
      position: 3
      attachments: []
    - action: Verify cluster state
      expectedresult: ""
      data: ""
      position: 4
      attachments: []
    custom_field:
      "14": Validation
      "18": Hostbusters

  - description: Scales up/down the control plane node pools of an existing cluster
    title: RKE2_Custom_Scale_Control_Plane
    priority: 4
    type: 8
    is_flaky: 0
    automation: 2
    steps:
    - action: Scale up the control plane node pools by 1
      expectedresult: ""
      data: ""
      position: 1
      attachments: []
    - action: Verify cluster state
      expectedresult: ""
      data: ""
      position: 2
      attachments: []
    - action: Scale down up the control plane node pools by 1
      expectedresult: ""
      data: ""
      position: 3
      attachments: []
    - action: Verify cluster state
      expectedresult: ""
      data: ""
      position: 4
      attachments: []
    custom_field:
      "14": Validation
      "18": Hostbusters

  - description: Scales up/down the ETCD node pools of an existing cluster
    title: RKE2_Custom_Scale_ETCD
    priority: 4
    type: 8
    is_flaky: 0
    automation: 2
    steps:
    - action: Scale up the ETCD node pools by 1
      expectedresult: ""
      data: ""
      position: 1
      attachments: []
    - action: Verify cluster state
      expectedresult: ""
      data: ""
      position: 2
      attachments: []
    - action: Scale down up the ETCD node pools by 1
      expectedresult: ""
      data: ""
      position: 3
      attachments: []
    - action: Verify cluster state
      expectedresult: ""
      data: ""
      position: 4
      attachments: []
    custom_field:
      "14": Validation
      "18": Hostbusters

  - description: Scales up/down the worker node pools of an existing cluster
    title: RKE2_Custom_Scale_Worker
    priority: 4
    type: 8
    is_flaky: 0
    automation: 2
    steps:
    - action: Scale up the worker node pools by 1
      expectedresult: ""
      data: ""
      position: 1
      attachments: []
    - action: Verify cluster state
      expectedresult: ""
      data: ""
      position: 2
      attachments: []
    - action: Scale down up the worker node pools by 1
      expectedresult: ""
      data: ""
      position: 3
      attachments: []
    - action: Verify cluster state
      expectedresult: ""
      data: ""
      position: 4
      attachments: []
    custom_field:
      "14": Validation
      "18": Hostbusters

  - description: Scales up/down the control plane and etcd pools of an existing cluster
    title: RKE2_Custom_Scale_Control_Plane_ETCD
    priority: 4
    type: 8
    is_flaky: 0
    automation: 2
    steps:
    - action: Scale up the control plane node pools by 1
      expectedresult: ""
      data: ""
      position: 1
      attachments: []
    - action: Verify cluster state
      expectedresult: ""
      data: ""
      position: 2
      attachments: []
    - action: Scale up the etcd node pools by 1
      expectedresult: ""
      data: ""
      position: 3
      attachments: []
    - action: Verify cluster state
      expectedresult: ""
      data: ""
      position: 4
      attachments: []
    - action: Scale down up the control plane node pools by 1
      expectedresult: ""
      data: ""
      position: 5
      attachments: []
    - action: Verify cluster state
      expectedresult: ""
      data: ""
      position: 6
      attachments: []
    - action: Scale down up the etcd node pools by 1
      expectedresult: ""
      data: ""
      position: 7
      attachments: []
    - action: Verify cluster state
      expectedresult: ""
      data: ""
      position: 8
      attachments: []
    custom_field:
      "14": Validation
      "18": Hostbusters

  - description: Scales up/down the windows node pools of an existing cluster
    title: RKE2_Custom_Scale_Windows
    priority: 4
    type: 8
    is_flaky: 0
    automation: 2
    steps:
    - action: Scale up the windows node pools by 1
      expectedresult: ""
      data: ""
      position: 1
      attachments: []
    - action: Verify cluster state
      expectedresult: ""
      data: ""
      position: 2
      attachments: []
    - action: Scale down up the windows node pools by 1
      expectedresult: ""
      data: ""
      position: 3
      attachments: []
    - action: Verify cluster state
      expectedresult: ""
      data: ""
      position: 4
      attachments: []
    custom_field:
      "14": Validation
      "18": Hostbusters

  - description: Scales up/down the control plane node pools of an existing cluster
    title: K3S_Custom_Scale_Control_Plane
    priority: 4
    type: 8
    is_flaky: 0
    automation: 2
    steps:
    - action: Scale up the control plane node pools by 1
      expectedresult: ""
      data: ""
      position: 1
      attachments: []
    - action: Verify cluster state
      expectedresult: ""
      data: ""
      position: 2
      attachments: []
    - action: Scale down up the control plane node pools by 1
      expectedresult: ""
      data: ""
      position: 3
      attachments: []
    - action: Verify cluster state
      expectedresult: ""
      data: ""
      position: 4
      attachments: []
    custom_field:
      "14": Validation
      "18": Hostbusters

  - description: Scales up/down the ETCD node pools of an existing cluster
    title: K3S_Custom_Scale_ETCD
    priority: 4
    type: 8
    is_flaky: 0
    automation: 2
    steps:
    - action: Scale up the ETCD node pools by 1
      expectedresult: ""
      data: ""
      position: 1
      attachments: []
    - action: Verify cluster state
      expectedresult: ""
      data: ""
      position: 2
      attachments: []
    - action: Scale down up the ETCD node pools by 1
      expectedresult: ""
      data: ""
      position: 3
      attachments: []
    - action: Verify cluster state
      expectedresult: ""
      data: ""
      position: 4
      attachments: []
    custom_field:
      "14": Validation
      "18": Hostbusters

  - description: Scales up/down the worker node pools of an existing cluster
    title: K3S_Custom_Scale_Worker
    priority: 4
    type: 8
    is_flaky: 0
    automation: 2
    steps:
    - action: Scale up the worker node pools by 1
      expectedresult: ""
      data: ""
      position: 1
      attachments: []
    - action: Verify cluster state
      expectedresult: ""
      data: ""
      position: 2
      attachments: []
    - action: Scale down up the worker node pools by 1
      expectedresult: ""
      data: ""
      position: 3
      attachments: []
    - action: Verify cluster state
      expectedresult: ""
      data: ""
      position: 4
      attachments: []
    custom_field:
      "14": Validation
      "18": Hostbusters

  - description: Scales up/down the control plane and etcd pools of an existing cluster
    title: K3S_Custom_Scale_Control_Plane_ETCD
    priority: 4
    type: 8
    is_flaky: 0
    automation: 2
    steps:
    - action: Scale up the control plane node pools by 1
      expectedresult: ""
      data: ""
      position: 1
      attachments: []
    - action: Verify cluster state
      expectedresult: ""
      data: ""
      position: 2
      attachments: []
    - action: Scale up the etcd node pools by 1
      expectedresult: ""
      data: ""
      position: 3
      attachments: []
    - action: Verify cluster state
      expectedresult: ""
      data: ""
      position: 4
      attachments: []
    - action: Scale down up the control plane node pools by 1
      expectedresult: ""
      data: ""
      position: 5
      attachments: []
    - action: Verify cluster state
      expectedresult: ""
      data: ""
      position: 6
      attachments: []
    - action: Scale down up the etcd node pools by 1
      expectedresult: ""
      data: ""
      position: 7
      attachments: []
    - action: Verify cluster state
      expectedresult: ""
      data: ""
      position: 8
      attachments: []
    custom_field:
      "14": Validation
      "18": Hostbusters

  - description: Replaces a control plane node on an existing cluster
    title: RKE2_Node_Driver_Replace_Control_Plane
    priority: 4
    type: 8
    is_flaky: 0
    automation: 2
    steps:
    - action: Delete a control plane node
      expectedresult: ""
      data: ""
      position: 1
      attachments: []
    - action: Wait for the control plane node to be replaced
      expectedresult: ""
      data: ""
      position: 2
      attachments: []
    - action: Verify cluster state
      expectedresult: ""
      data: ""
      position: 3
      attachments: []
    custom_field:
      "14": Validation
      "18": Hostbusters

  - description: Replaces a ETCD node on an existing cluster
    title: RKE2_Node_Driver_Replace_ETCD
    priority: 4
    type: 8
    is_flaky: 0
    automation: 2
    steps:
    - action: Delete a ETCD node
      expectedresult: ""
      data: ""
      position: 1
      attachments: []
    - action: Wait for the ETCD node to be replaced
      expectedresult: ""
      data: ""
      position: 2
      attachments: []
    - action: Verify cluster state
      expectedresult: ""
      data: ""
      position: 3
      attachments: []
    custom_field:
      "14": Validation
      "18": Hostbusters

  - description: Replaces a worker node on an existing cluster
    title: RKE2_Node_Driver_Replace_Worker
    priority: 4
    type: 8
    is_flaky: 0
    automation: 2
    steps:
    - action: Delete a worker node
      expectedresult: ""
      data: ""
      position: 1
      attachments: []
    - action: Wait for the worker node to be replaced
      expectedresult: ""
      data: ""
      position: 2
      attachments: []
    - action: Verify cluster state
      expectedresult: ""
      data: ""
      position: 3
      attachments: []
    custom_field:
      "14": Validation
      "18": Hostbusters

  - description: Replaces a control plane node on an existing cluster
    title: K3S_Node_Driver_Replace_Control_Plane
    priority: 4
    type: 8
    is_flaky: 0
    automation: 2
    steps:
    - action: Delete a control plane node
      expectedresult: ""
      data: ""
      position: 1
      attachments: []
    - action: Wait for the control plane node to be replaced
      expectedresult: ""
      data: ""
      position: 2
      attachments: []
    - action: Verify cluster state
      expectedresult: ""
      data: ""
      position: 3
      attachments: []
    custom_field:
      "14": Validation
      "18": Hostbusters

  - description: Replaces a ETCD node on an existing cluster
    title: K3S_Node_Driver_Replace_ETCD
    priority: 4
    type: 8
    is_flaky: 0
    automation: 2
    steps:
    - action: Delete a ETCD node
      expectedresult: ""
      data: ""
      position: 1
      attachments: []
    - action: Wait for the ETCD node to be replaced
      expectedresult: ""
      data: ""
      position: 2
      attachments: []
    - action: Verify cluster state
      expectedresult: ""
      data: ""
      position: 3
      attachments: []
    custom_field:
      "14": Validation
      "18": Hostbusters

  - description: Replaces a worker node on an existing cluster
    title: K3S_Node_Driver_Replace_Worker
    priority: 4
    type: 8
    is_flaky: 0
    automation: 2
    steps:
    - action: Delete a worker node
      expectedresult: ""
      data: ""
      position: 1
      attachments: []
    - action: Wait for the worker node to be replaced
      expectedresult: ""
      data: ""
      position: 2
      attachments: []
    - action: Verify cluster state
      expectedresult: ""
      data: ""
      position: 3
      attachments: []
    custom_field:
      "14": Validation
      "18": Hostbusters

  - description: Autoscales up a cluster 
    title: RKE2_Auto_Scale_Up
    priority: 4
    type: 8
    is_flaky: 0
    automation: 2
    steps:
    - action: Create an autoscaler cluster
      expectedresult: ""
      data: ""
      position: 1
      attachments: []
    - action: Verify that the autoscaler is setup properly
      expectedresult: ""
      data: ""
      position: 2
      attachments: []
    - action: Create an unscheduleable deployment
      expectedresult: ""
      data: ""
      position: 3
      attachments: []
    - action: Verify that the cluster scales up
      expectedresult: ""
      data: ""
      position: 4
      attachments: []
    custom_field:
      "14": Validation
      "18": Hostbusters
  
  - description: Autoscales up a cluster 
    title: K3S_Auto_Scale_Up
    priority: 4
    type: 8
    is_flaky: 0
    automation: 2
    steps:
    - action: Create an autoscaler cluster
      expectedresult: ""
      data: ""
      position: 1
      attachments: []
    - action: Verify that the autoscaler is setup properly
      expectedresult: ""
      data: ""
      position: 2
      attachments: []
    - action: Create an unscheduleable deployment
      expectedresult: ""
      data: ""
      position: 3
      attachments: []
    - action: Verify that the cluster scales up
      expectedresult: ""
      data: ""
      position: 4
      attachments: []
    custom_field:
      "14": Validation
      "18": Hostbusters

  - description: Autoscales down a cluster 
    title: RKE2_Auto_Scale_Down
    priority: 4
    type: 8
    is_flaky: 0
    automation: 2
    steps:
    - action: Create an autoscaler cluster
      expectedresult: ""
      data: ""
      position: 1
      attachments: []
    - action: Verify that the autoscaler is setup properly
      expectedresult: ""
      data: ""
      position: 2
      attachments: []
    - action: Create an unscheduleable deployment
      expectedresult: ""
      data: ""
      position: 3
      attachments: []
    - action: Update the unscheduleable deployment to 1 replica
      expectedresult: ""
      data: ""
      position: 4
      attachments: []
    - action: Verify that the cluster scales down
      expectedresult: ""
      data: ""
      position: 5
      attachments: []
    custom_field:
      "14": Validation
      "18": Hostbusters
  
  - description: Autoscales down a cluster 
    title: K3S_Auto_Scale_Down
    priority: 4
    type: 8
    is_flaky: 0
    automation: 2
    steps:
    - action: Create an autoscaler cluster
      expectedresult: ""
      data: ""
      position: 1
      attachments: []
    - action: Verify that the autoscaler is setup properly
      expectedresult: ""
      data: ""
      position: 2
      attachments: []
    - action: Create an unscheduleable deployment
      expectedresult: ""
      data: ""
      position: 3
      attachments: []
    - action: Update the unscheduleable deployment to 1 replica
      expectedresult: ""
      data: ""
      position: 4
      attachments: []
    - action: Verify that the cluster scales down
      expectedresult: ""
      data: ""
      position: 5
      attachments: []
    custom_field:
      "14": Validation
      "18": Hostbusters


  - description: Verifies the autoscaler pause feature
    title: RKE2_Auto_Scale_Pause
    priority: 4
    type: 8
    is_flaky: 0
    automation: 2
    steps:
    - action: Create an autoscaler cluster
      expectedresult: ""
      data: ""
      position: 1
      attachments: []
    - action: Verify that the autoscaler is setup properly
      expectedresult: ""
      data: ""
      position: 2
      attachments: []
    - action: Pause the autoscaler
      expectedresult: ""
      data: ""
      position: 3
      attachments: []
    - action: Create an unscheduleable deployment
      expectedresult: ""
      data: ""
      position: 4
      attachments: []
    - action: Verify that the cluster does not scale
      expectedresult: ""
      data: ""
      position: 5
      attachments: []
    - action: Unpause the autoscaler
      expectedresult: ""
      data: ""
      position: 6
      attachments: []
    - action: Verify that the cluster scales up
      expectedresult: ""
      data: ""
      position: 7
      attachments: []
    custom_field:
      "14": Validation
      "18": Hostbusters
  
  - description: Verifies the autoscaler pause feature
    title: K3S_Auto_Scale_Pause
    priority: 4
    type: 8
    is_flaky: 0
    automation: 2
    steps:
    - action: Create an autoscaler cluster
      expectedresult: ""
      data: ""
      position: 1
      attachments: []
    - action: Verify that the autoscaler is setup properly
      expectedresult: ""
      data: ""
      position: 2
      attachments: []
    - action: Pause the autoscaler
      expectedresult: ""
      data: ""
      position: 3
      attachments: []
    - action: Create an unscheduleable deployment
      expectedresult: ""
      data: ""
      position: 4
      attachments: []
    - action: Verify that the cluster does not scale
      expectedresult: ""
      data: ""
      position: 5
      attachments: []
    - action: Unpause the autoscaler
      expectedresult: ""
      data: ""
      position: 6
      attachments: []
    - action: Verify that the cluster scales up
      expectedresult: ""
      data: ""
      position: 7
      attachments: []
    custom_field:
      "14": Validation
      "18": Hostbusters